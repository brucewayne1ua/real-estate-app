<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <title>Профиль</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      defer
    ></script>
  </head>
  <body class="bg-light">
    <div class="container mt-5">
      <!-- Профиль пользователя -->
      <div class="card shadow mb-4">
        <div class="card-body">
          <h2 class="card-title mb-4">Профиль</h2>
          <p>
            <strong>Email:</strong>
            <span th:text="${user.email}">user@example.com</span>
          </p>
          <p><strong>Роль:</strong> <span th:text="${user.role}">USER</span></p>
        </div>
      </div>

      <!-- Объявления пользователя -->
      <div class="card shadow">
        <div class="card-body">
          <h3 class="card-title mb-4">Мои объявления</h3>

          <div th:if="${#lists.isEmpty(userListings)}">
            <p class="text-muted">У вас пока нет объявлений.</p>
          </div>

          <div th:each="listing : ${userListings}" class="card mb-3 shadow-sm">
            <div class="card-body">
              <h5 class="card-title" th:text="${listing.title}">Название</h5>
              <p class="card-text" th:text="${listing.description}">Описание</p>
              <p class="card-text" th:text="'Цена: ' + ${listing.price} + ' $'">
                Цена
              </p>
              <p class="card-text" th:text="'Город: ' + ${listing.city}">
                Город
              </p>
              <p
                class="card-text"
                th:text="'Площадь: ' + ${listing.squareMeters} + ' м²'"
              >
                Площадь
              </p>
              <a
                th:href="@{'/listings/' + ${listing.id}}"
                class="btn btn-outline-primary btn-sm"
                >Открыть</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
